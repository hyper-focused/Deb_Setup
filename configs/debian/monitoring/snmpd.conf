# /etc/snmp/snmpd.conf — Debian 13 (QEMU VM)
# Deployed by hyper-focused/Deb_Setup init.sh
# Extend scripts sourced from librenms/librenms-agent (pinned via librenms-agent.pin)

# ── Access control ────────────────────────────────────────────────────────────
com2sec readonly  default         SNMP_COMMUNITY

group ro-group v2c        readonly
view  all       included  1.3.6.1
access ro-group "" any noauth exact all none none

# ── System identity ───────────────────────────────────────────────────────────
sysLocation  SYSLOCATION
sysContact   SYSCONTACT
SysServices  72
agentaddress 0.0.0.0

# ── OS / distro detection (required by LibreNMS) ──────────────────────────────
extend distro /usr/bin/distro

# ── Hardware identity (QEMU exposes DMI via SMBIOS) ──────────────────────────
extend manufacturer '/usr/bin/cat /sys/devices/virtual/dmi/id/sys_vendor'
extend hardware     '/usr/bin/cat /sys/devices/virtual/dmi/id/product_name'

# ── Core system extends ───────────────────────────────────────────────────────
extend linux_softnet_stat  /etc/snmp/linux_softnet_stat -b
extend osupdate            /etc/snmp/osupdate
extend chrony              /etc/snmp/chrony
